---
import "../styles/global.css";

import Status from "@/components/status.astro";
import NowListening from "@/components/now-listening.astro";
import Controls from "@/components/controls.astro";
import Image from "astro/components/Image.astro";
import Header from "@/components/header.astro";
import Socials from "@/components/socials.astro";
---

<html lang="en" class="font-ark bg-neutral-950">
	<!-- hey, what are you doing here? trying to learn how this super awesome website works? -->
	<!-- well, just a head's up, the repo for this site is public: https://github.com/tygrdotdev/tygr.dev -->
	<!-- go make some cool shit and don't be afraid to ask for help if you need any :p -->
	<head>
		<title>tygr.dev</title>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<script is:inline async src="/internal/neko.js"></script>
	</head>
	<body class="min-w-[900px] max-w-[900px] w-full min-h-screen mx-auto">
		<Header />
		<div class="w-[900px] h-full p-2.5 bg-white text-black border-x grid gap-2.5 grid-cols-4">
			<div class="col-span-1 border-black flex flex-col gap-2.5">
				<Status />
				<Socials />
				<NowListening server:defer>
					<div class="flex flex-col items-start border border-black" slot="fallback">
						<div class="px-1 py-0.5 text-lg font-neue-haas-grotesk border-b border-black w-full">
							listening to
						</div>
						<div class="flex flex-col w-full gap-2 p-1 grayscale hover:grayscale-0">
							<Image src="/internal/default-album.png" alt="Loading" width={200} height={200} class="w-full" />
								<span class="px-0.5">Loading...</span>
						</div>
					</div>
				</NowListening>	
				<Controls />
			</div>
			<div class="w-full col-span-3">
				<slot />
			</div>
		</div>
		<footer class="h-[21px] flex justify-end items-end mb-8" style="background: url('/internal/footer.svg') bottom center/cover">
			<span class="pb-1 pr-3">
				built with <a href="https://astro.build" target="_blank">
					astro
				</a>
				and <a href="/dr_pepper.mp4" target="_blank">dr pepper</a> | banner by: <a href="https://x.com/lililjiliijili/status/1021352917872259072" target="_blank">
				@lililjiliijili</a>
			</span>
		</footer>
	</body>
</html>